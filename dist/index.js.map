{"version":3,"sources":["../src/index.js"],"names":["app","converter","showdown","Converter","head","footer","use","express","static","set","get","req","res","post","params","fs","readFile","error","data","redirect","send","makeHtml","sendFile","__dirname","listener","listen","process","env","PORT","console","log","address","port"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACA,IAAMC,YAAY,IAAIC,mBAASC,SAAb,EAAlB;;AAEA,IAAMC,OAAO,iJAAb;AACA,IAAMC,SAAS,8FAAf;;AAEAL,IAAIM,GAAJ,CAAQC,kBAAQC,MAAR,CAAe,QAAf,CAAR;AACAR,IAAIS,GAAJ,CAAQ,OAAR,EAAiB,SAAjB;;AAGAT,IAAIU,GAAJ,CAAQ,QAAR,EAAkB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAAA,MACjBC,IADiB,GACNF,GADM,CAC3BG,MAD2B,CACjBD,IADiB;;;AAGnCE,eAAGC,QAAH,YAAqBH,IAArB,UAAgC,MAAhC,EAAwC,UAASI,KAAT,EAAgBC,IAAhB,EAAsB;AAC5D,QAAID,KAAJ,EAAW,OAAOL,IAAIO,QAAJ,CAAa,GAAb,CAAP;AACXP,QAAIQ,IAAJ,CAAShB,OAAOH,UAAUoB,QAAV,CAAmBH,IAAnB,CAAhB;AACD,GAHD;AAID,CAPD;;AASAlB,IAAIU,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIU,QAAJ,CAAaC,YAAY,mBAAzB,CAAd;AAAA,CAAb;;AAGA,IAAMC,WAAWxB,IAAIyB,MAAJ,CAAWC,QAAQC,GAAR,CAAYC,IAAvB,EAA6B,YAAW;AACvDC,UAAQC,GAAR,CAAY,mCAAmCN,SAASO,OAAT,GAAmBC,IAAlE;AACD,CAFgB,CAAjB","file":"index.js","sourcesContent":["import fs from 'fs';\nimport express from 'express';\nimport showdown from 'showdown';\n\nconst app = express();\nconst converter = new showdown.Converter();\n\nconst head = '<html lang=\"en\"><head><title>Markdown Web Page</title></head><body><div class=\"glitchButton\" style=\"position:fixed;top:20px;right:20px;\"></div>'\nconst footer = '<script src=\"https://button.glitch.me/button.js\" data-style=\"glitch\"></script></body></html>'\n\napp.use(express.static('public'));\napp.set('views', './views');\n\n\napp.get('/:post', function(req, res) {\n  const { params: { post } } = req;\n  \n  fs.readFile(`posts/${post}.md`, 'utf8', function(error, data) {\n    if (error) return res.redirect('/');\n    res.send(head + converter.makeHtml(data));\n  })\n});\n\napp.get('/', (req, res) => res.sendFile(__dirname + '/views/index.html'));\n\n\nconst listener = app.listen(process.env.PORT, function() {\n  console.log('Your app is listening on port ' + listener.address().port);\n});\n"]}