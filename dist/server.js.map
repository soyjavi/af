{"version":3,"sources":["../server.js"],"names":["express","require","fs","showdown","app","converter","Converter","head","footer","use","static","set","get","req","res","post","params","readFile","error","data","redirect","send","makeHtml","sendFile","__dirname","listener","listen","process","env","PORT","console","log","address","port"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,KAAKD,QAAQ,IAAR,CAAX;AACA,IAAME,WAAWF,QAAQ,UAAR,CAAjB;;AAEA,IAAMG,MAAMJ,SAAZ;AACA,IAAMK,YAAY,IAAIF,SAASG,SAAb,EAAlB;;AAEA,IAAMC,OAAO,iJAAb;AACA,IAAMC,SAAS,8FAAf;;AAEAJ,IAAIK,GAAJ,CAAQT,QAAQU,MAAR,CAAe,QAAf,CAAR;AACAN,IAAIO,GAAJ,CAAQ,OAAR,EAAiB,SAAjB;;AAGAP,IAAIQ,GAAJ,CAAQ,QAAR,EAAkB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAAA,MACjBC,IADiB,GACNF,GADM,CAC3BG,MAD2B,CACjBD,IADiB;;;AAGnCb,KAAGe,QAAH,YAAqBF,IAArB,UAAgC,MAAhC,EAAwC,UAASG,KAAT,EAAgBC,IAAhB,EAAsB;AAC5D,QAAID,KAAJ,EAAW,OAAOJ,IAAIM,QAAJ,CAAa,GAAb,CAAP;AACXN,QAAIO,IAAJ,CAASd,OAAOF,UAAUiB,QAAV,CAAmBH,IAAnB,CAAhB;AACD,GAHD;AAID,CAPD;;AASAf,IAAIQ,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIS,QAAJ,CAAaC,YAAY,mBAAzB,CAAd;AAAA,CAAb;;AAGA,IAAMC,WAAWrB,IAAIsB,MAAJ,CAAWC,QAAQC,GAAR,CAAYC,IAAvB,EAA6B,YAAW;AACvDC,UAAQC,GAAR,CAAY,mCAAmCN,SAASO,OAAT,GAAmBC,IAAlE;AACD,CAFgB,CAAjB","file":"server.js","sourcesContent":["const express = require('express');\nconst fs = require('fs');\nconst showdown = require('showdown');\n\nconst app = express();\nconst converter = new showdown.Converter();\n\nconst head = '<html lang=\"en\"><head><title>Markdown Web Page</title></head><body><div class=\"glitchButton\" style=\"position:fixed;top:20px;right:20px;\"></div>'\nconst footer = '<script src=\"https://button.glitch.me/button.js\" data-style=\"glitch\"></script></body></html>'\n\napp.use(express.static('public'));\napp.set('views', './views');\n\n\napp.get('/:post', function(req, res) {\n  const { params: { post } } = req;\n  \n  fs.readFile(`posts/${post}.md`, 'utf8', function(error, data) {\n    if (error) return res.redirect('/');\n    res.send(head + converter.makeHtml(data));\n  })\n});\n\napp.get('/', (req, res) => res.sendFile(__dirname + '/views/index.html'));\n\n\nconst listener = app.listen(process.env.PORT, function() {\n  console.log('Your app is listening on port ' + listener.address().port);\n});\n"]}